{"version":3,"sources":["portfolio/ui/components/elastic_container.cljs"],"mappings":";AAEA,sEAAA,tEAAMA,oJAA2BC,KAAKC,SAASC;AAA/C,AACE,OAACC,WAAc,WAAKC;AAAL,AACE,uBAAA,tBAAM,AAAA,AAAIJ;;AACV,qBAAA,pBAAM,AAAA,AAAIA;;AACV,kBAAA,eAAA,jCAAeA;;AACf,QAACC,yCAAAA,2CAAAA;GACHC;;AAEjB,AAAA,kDAAA,0DAAAG,5GAAMM;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,qFAAAF;;;AAAA,AAAA,CAAA,uFAAA,WAAAG,lGAAMD;AAAN,AAAA,IAAAE,aAAAD;UAAA,AAAAE,4CAAAD,WAAA,IAAA,jEAAgBK;AAAhB,AACE,kBAAKlB,KAAKC,SAASkB;AAAnB,AACE,GAAI,6CAAA,7CAACC,yDAAc,kBAAA,lBAAepB;AAChC,AAAI,kBAAA,eAAA,jCAAeA;;AACf,QAACC,yCAAAA,2CAAAA;;AACL,AACE,kBAAA,eAAA,jCAAeD;;AACf,uBAAA,tBAAM,AAAA,AAAIA;;AACV,IAAMqB,SAAO,AAAU,AAAwBrB;AAA/C,AACE,kFAAA,lFAACD,oEAA0BC,KAAKC;;AAChC,qBAAA,pBAAM,AAAA,AAAID;;AACV,CAAM,AAAA,AAAIA,wBAAyB,iBAAAsB,mBAAI,AAAA,8FAAaJ;AAAjB,AAAA,oBAAAI;AAAAA;;AAAA;;;;AACnC,oCAAA,7BAACC;AAAD,AACE,QAAM,AAAA,AAAIvB,oBAAqB,qDAAA,RAAKqB;;;;;;AAbhD,CAAA,0EAAA,1EAAMV;;AAAN;AAAA,CAAA,oEAAA,WAAAI,/EAAMJ;AAAN,AAAA,IAAAK,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAAC,cAAAF;;;AAAA,AAeA,AAAA,kDAAA,0DAAAV,5GAAMmB;AAAN,AAAA,IAAAlB,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAkB,qFAAAf;;;AAAA,AAAA,CAAA,uFAAA,WAAAgB,lGAAMD;AAAN,AAAA,IAAAE,aAAAD;UAAA,AAAAX,4CAAAY,WAAA,IAAA,jEAAgBR;AAAhB,AACE,kBAAKlB,KAAKC;AAAV,AACE,GAAI,6CAAA,7CAACmB,yDAAc,kBAAA,lBAAepB;AAChC,AAAI,kBAAA,eAAA,jCAAeA;;AACf,QAACC,yCAAAA,2CAAAA;;AACL,AAIE,yBAAA,xBAAM,AAAA,AAAID;;AACV,CAAM,AAAA,AAAIA,oBAAqB,kFAAA,rCAAK,AAAU,AAAwBA;;AAEtE,uBAAA,tBAAM,AAAA,AAAIA;;AACV,kFAAA,lFAACD,oEAA0BC,KAAKC;;AAChC,CAAM,AAAA,AAAID,wBAAyB,iBAAAsB,mBAAI,AAAA,8FAAaJ;AAAjB,AAAA,oBAAAI;AAAAA;;AAAA;;;;AACnC,oCAAA,7BAACC;AAAD,AACE,4BAAA,pBAAM,AAAA,AAAIvB;;;;;;AAhBpB,CAAA,0EAAA,1EAAMwB;;AAAN;AAAA,CAAA,oEAAA,WAAAG,/EAAMH;AAAN,AAAA,IAAAR,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAAC,cAAAU;;;AAAA","names":["portfolio.ui.components.elastic-container/clean-up-after-transition","node","callback","ms","js/setTimeout","_","var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","portfolio.ui.components.elastic-container/enter","p__44810","vec__44811","cljs.core.nth","seq44809","self__5755__auto__","cljs.core/seq","opt","val","cljs.core._EQ_","target","or__5045__auto__","js/window.requestAnimationFrame","portfolio.ui.components.elastic-container/leave","p__44815","vec__44816","seq44814"],"sourcesContent":["(ns portfolio.ui.components.elastic-container)\n\n(defn clean-up-after-transition [node callback ms]\n  (js/setTimeout (fn [_]\n                   (set! (.. node -style -overflow) \"auto\")\n                   (set! (.. node -style -height) \"auto\")\n                   (.setAttribute node \"data-ec-anim\" \"done\")\n                   (callback))\n                 ms))\n\n(defn enter [& [opt]]\n  (fn [node callback val]\n    (if (= \"animating\" (.getAttribute node \"data-ec-anim\"))\n      (do (.setAttribute node \"data-ec-anim\" \"cancelled\")\n          (callback))\n      (do\n        (.setAttribute node \"data-ec-anim\" \"animating\")\n        (set! (.. node -style -overflow) \"hidden\")\n        (let [target (.-height (.getBoundingClientRect node))]\n          (clean-up-after-transition node callback 250)\n          (set! (.. node -style -height) 0)\n          (set! (.. node -style -transition) (or (:transition opt) \"height 0.25s ease-in\"))\n          (js/window.requestAnimationFrame\n           #(set! (.. node -style -height) (str target \"px\"))))))))\n\n(defn leave [& [opt]]\n  (fn [node callback]\n    (if (= \"animating\" (.getAttribute node \"data-ec-anim\"))\n      (do (.setAttribute node \"data-ec-anim\" \"cancelled\")\n          (callback))\n      (do\n        ;; Start by ensuring that the CSS height property is explicitly set,\n        ;; otherwise there will be no transition, which means that the callback will\n        ;; never trigger. No good.\n        (set! (.. node -style -transition) \"none\")\n        (set! (.. node -style -height) (str (.-height (.getBoundingClientRect node)) \"px\"))\n\n        (set! (.. node -style -overflow) \"hidden\")\n        (clean-up-after-transition node callback 150)\n        (set! (.. node -style -transition) (or (:transition opt) \"height 0.15s ease-out\"))\n        (js/window.requestAnimationFrame\n         #(set! (.. node -style -height) 0))))))\n"],"x_google_ignoreList":[0]}