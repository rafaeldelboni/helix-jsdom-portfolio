{"version":3,"sources":["portfolio/ui/components/browser.cljs"],"mappings":"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","names":["var_args","G__44826","portfolio.ui.components.browser/render-items","js/Error","items","portfolio.ui.components.browser.render_items","attrs","cljs.core/seq","iter__5523__auto__","s__44828","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__44830","cljs.core/chunk-buffer","i__44829","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__44827","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","item","portfolio.ui.components.browser/render-menu","portfolio.ui.components.browser/get-context-offset","context","kind","cljs.core.concat","cljs.core.partition","cljs.core.map","pair","G__44831","cljs.core._EQ_","cljs.core.reduce","cljs.core/+","G__44832","p__44834","map__44835","cljs.core/--destructure-map","cljs.core.get","G__44833","dumdom.core/component","portfolio.ui.components.browser/Folder","title","illustration","actions","left-padding","phosphor.icons.render","G__44836","p__44838","map__44839","G__44837","portfolio.ui.components.browser/Package","toggle","selected?","cljs.core.merge","rotation","G__44840","p__44842","map__44843","G__44841","portfolio.ui.components.browser/Unit","url","props","G__44844","cljs.core/Keyword","G__44845","p__44847","map__44848","G__44846","portfolio.ui.components.browser/Browser","portfolio.ui.components.elastic-container/enter","portfolio.ui.components.elastic-container/leave","cljs.core/chunk-first"],"sourcesContent":["(ns portfolio.ui.components.browser\n  (:require [dumdom.core :as d]\n            [phosphor.icons :as icons]\n            [portfolio.ui.components.elastic-container :as ec]))\n\n(declare render-menu)\n\n(defn render-items\n  ([items] (render-items nil items))\n  ([attrs items]\n   (when (seq items)\n     [:ul attrs\n      (for [item items]\n        [:li (render-menu item)])])))\n\n(defn get-context-offset [context kind]\n  (->> (concat context [kind])\n       (partition 2 1)\n       (map (fn [pair]\n              (case pair\n                [:folder :folder] 24\n                [:folder :package] 0\n                [:package :folder] 24\n                [:package :package] 24\n                [:folder :unit] 8\n                [:package :unit] 48)))\n       (reduce + 0)))\n\n(d/defcomponent Folder [{:keys [title illustration actions items context]}]\n  (let [left-padding (+ 8 (get-context-offset context :folder))]\n    [:div {:style {:background \"var(--bg)\"}}\n     [:h2.h4\n      {:on-click actions\n       :style {:background \"var(--folder-bg)\"\n               :border-top \"1px solid var(--folder-border)\"\n               :border-bottom \"1px solid var(--folder-border)\"\n               :padding (str \"16px 8px 16px \" left-padding \"px\")\n               :display \"flex\"\n               :align-items \"center\"\n               :cursor (when actions \"pointer\")\n               :gap 8}}\n      (when (:icon illustration)\n        (icons/render\n         (:icon illustration)\n         {:color (:color illustration)\n          :size 24}))\n      title]\n     (render-items {:style {:margin \"8px 0 24px\"}} items)]))\n\n(d/defcomponent Package [{:keys [title illustration actions toggle items context selected?]}]\n  [:div\n   [:div {:style {:background (when selected? \"var(--highlight-bg)\")\n                  :display \"flex\"\n                  :align-items \"center\"\n                  :border-radius 4\n                  :font-weight (when selected? \"bold\")\n                  :padding-left (+ (if selected? 4 8)\n                                   (get-context-offset context :package))\n                  :margin (when selected?\n                            \"0 4px\")}}\n    (when (:icon toggle)\n      (icons/render\n       (:icon toggle)\n       {:size 16\n        :style (merge\n                {:margin-right 8}\n                (when-let [rotation (:rotation toggle)]\n                  {:transition \"transform 0.15s\"\n                   :transform (str \"rotate(\" rotation \"deg)\")}))\n        :on-click (:actions toggle)}))\n    (when (:icon illustration)\n      (icons/render\n       (:icon illustration)\n       {:size 16\n        :color (if selected?\n                 \"var(--package-selected-fg)\"\n                 (:color illustration))\n        :style {:margin-right 8}}))\n    [:span {:on-click actions\n            :style {:cursor (when actions \"pointer\")\n                    :display \"inline-block\"\n                    :padding \"8px 0\"}}\n     title]]\n   (render-items items)])\n\n(d/defcomponent Unit [{:keys [title url actions selected? illustration context]}]\n  (let [left-padding (get-context-offset context :unit)]\n    [:li.text-s\n     {:style {:background (when selected? \"var(--highlight-bg)\")\n              :font-weight (when selected? 600)\n              :display \"flex\"\n              :align-items \"center\"\n              :margin \"4px 4px\"\n              :border-radius 4\n              :padding (str \"8px 0 8px \" left-padding \"px\")}}\n     (when (:icon illustration)\n       (icons/render\n        (:icon illustration)\n        {:size 16\n         :color (:color illustration)\n         :style {:margin-right 8}}))\n     (if selected?\n       [:strong {:style {:color \"var(--browser-unit-fg)\"}} title]\n       [:a {:style {:display \"block\"\n                    :color \"var(--browser-unit-fg)\"}\n            :on-click actions\n            :href url} title])]))\n\n(defn render-menu [props]\n  (case (:kind props)\n    :folder (Folder props)\n    :package (Package props)\n    (Unit props)))\n\n(d/defcomponent Browser\n  :will-enter (ec/enter)\n  :will-leave (ec/leave)\n  [{:keys [items]}]\n  (render-items items))\n"],"x_google_ignoreList":[0]}