{"version":3,"sources":["portfolio/ui/components/popup_menu.cljs"],"mappings":"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","names":["portfolio.ui.components.popup-menu/get-scroll-left","el","scroll","or__5045__auto__","G__44478","p__44480","map__44481","cljs.core/--destructure-map","cljs.core.get","G__44479","dumdom.core/component","portfolio.ui.components.popup-menu/PopupMenu","_","left","width","button-width","options","iter__5523__auto__","s__44483","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__44485","cljs.core/chunk-buffer","i__44484","map__44487","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__44482","cljs.core/chunk-rest","map__44492","cljs.core/first","cljs.core/cons","cljs.core/rest","title","selected?","actions","cljs.core/chunk-first"],"sourcesContent":["(ns portfolio.ui.components.popup-menu\n  (:require [dumdom.core :as d]))\n\n(defn get-scroll-left [el]\n  (loop [el el\n         scroll 0]\n    (if el\n      (recur (.-parentNode el) (+ scroll (or (.-scrollLeft el) 0)))\n      scroll)))\n\n(d/defcomponent PopupMenu\n  :on-render (fn [el _]\n               (let [left (- (.. el -parentNode -offsetLeft) (get-scroll-left el))\n                     width (.. el -firstChild getBoundingClientRect -width)\n                     button-width (.. el -parentNode getBoundingClientRect -width)]\n                 (cond\n                   (< (- left (/ width 2)) 0)\n                   (do\n                     (set! (.. el -style -left) \"0\")\n                     (set! (.. el -firstChild -style -transform) nil)\n                     (set! (.. el -firstChild -firstChild -style -left) (str (/ button-width 2) \"px\"))))))\n  [{:keys [options]}]\n  ;; First, position absolutely so that \"50%\" is taken as 50% of the containing\n  ;; element\n  [:div {:style {:position \"absolute\"\n                 :left \"50%\"}}\n   ;; Then position fixed so element is not clipped by a container's overflow:\n   ;; hidden\n   [:div {:style\n          {:position \"absolute\"\n           :margin-top 40\n           :background \"#fff\"\n           :box-shadow \"rgba(0, 0, 0, 0.1) 0px 1px 5px 0px\"\n           :border-radius 4\n           ;; Shift element back half its own width so it's centered under the\n           ;; containing element that triggered it\n           :transform \"translateX(-50%)\"\n           :padding \"10px 0\"\n           :width 200\n           :z-index 1}}\n    [:div {:style\n           {:position \"absolute\"\n            :border-style \"solid\"\n            :transform \"translate3d(-50%, 0px, 0px)\"\n            :left \"50%\"\n            :top -8\n            :border-width \"0px 8px 8px\"\n            :border-color \"transparent transparent rgba(255, 255, 255, 0.95)\"}}]\n    (for [{:keys [title selected? actions]} options]\n      [:button.button.hoverable\n       {:style {:background (when selected? \"#f8f8f8\")\n                :font-weight (when selected? \"bold\")\n                :width \"100%\"\n                :cursor (if actions \"pointer\" \"default\")\n                :text-align \"left\"\n                :padding \"10px 20px\"}\n        :on-click actions}\n       title])]])\n"],"x_google_ignoreList":[0]}